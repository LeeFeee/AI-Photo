# Prisma æ•°æ®åº“é…ç½®å®Œæˆæ€»ç»“

## æ¦‚è¿°

å·²æˆåŠŸä¸º AI Photo é¡¹ç›®é…ç½® Prisma ORM å’Œ PostgreSQL æ•°æ®åº“ã€‚æœ¬æ–‡æ¡£æ€»ç»“æ‰€æœ‰å®Œæˆçš„é…ç½®å’Œåˆ›å»ºçš„æ–‡ä»¶ã€‚

## å·²å®Œæˆçš„ä»»åŠ¡

### âœ… 1. å®‰è£…ä¾èµ–

å·²å®‰è£…ä»¥ä¸‹åŒ…ï¼š

**ç”Ÿäº§ä¾èµ–**ï¼š
- `@prisma/client@^6.18.0` - Prisma å®¢æˆ·ç«¯
- `prisma@^6.18.0` - Prisma CLI
- `bcryptjs@^3.0.2` - å¯†ç å“ˆå¸Œ
- `dotenv@^17.2.3` - ç¯å¢ƒå˜é‡åŠ è½½

**å¼€å‘ä¾èµ–**ï¼š
- `@types/bcryptjs@^2.4.6` - bcryptjs ç±»å‹å®šä¹‰
- `tsx@^4.20.6` - TypeScript æ‰§è¡Œå™¨ï¼ˆç”¨äºç§å­è„šæœ¬ï¼‰

### âœ… 2. Prisma Schema é…ç½®

**æ–‡ä»¶**: `prisma/schema.prisma`

å®šä¹‰äº†ä»¥ä¸‹æ•°æ®æ¨¡å‹ï¼š

1. **Userï¼ˆç”¨æˆ·è¡¨ï¼‰**
   - å­—æ®µï¼šid, email, username, passwordHash, tokenBalance, isMember, membershipExpiresAt, timestamps
   - ç´¢å¼•ï¼šemail, username
   - å…³ç³»ï¼šå¤šä¸ª GeneratedImage å’Œ Transaction

2. **AdminUserï¼ˆç®¡ç†å‘˜è¡¨ï¼‰**
   - å­—æ®µï¼šid, email, passwordHash, role, timestamps
   - ç´¢å¼•ï¼šemail

3. **Promptï¼ˆæç¤ºè¯è¡¨ï¼‰**
   - å­—æ®µï¼šid, name, content, previewImageUrl, isActive, timestamps
   - ç´¢å¼•ï¼šisActive
   - å…³ç³»ï¼šå¤šä¸ª GeneratedImage

4. **GeneratedImageï¼ˆç”Ÿæˆå›¾ç‰‡è®°å½•è¡¨ï¼‰**
   - å­—æ®µï¼šid, userId, promptId, referenceImageUrl, generatedImageUrl, tokenCost, createdAt
   - ç´¢å¼•ï¼šuserId, promptId, createdAt
   - å…³ç³»ï¼šå±äº User å’Œ Prompt
   - çº§è”åˆ é™¤ï¼šå½“ User åˆ é™¤æ—¶ï¼Œç›¸å…³å›¾ç‰‡ä¹Ÿåˆ é™¤

5. **Transactionï¼ˆäº¤æ˜“è®°å½•è¡¨ï¼‰**
   - å­—æ®µï¼šid, userId, type, amount, tokens, stripePaymentId, status, createdAt
   - ç´¢å¼•ï¼šuserId, status, createdAt
   - å…³ç³»ï¼šå±äº User
   - çº§è”åˆ é™¤ï¼šå½“ User åˆ é™¤æ—¶ï¼Œç›¸å…³äº¤æ˜“ä¹Ÿåˆ é™¤

**æšä¸¾ç±»å‹**ï¼š
- `TransactionType`: PURCHASE_TOKENS, PURCHASE_MEMBERSHIP, REFUND
- `TransactionStatus`: PENDING, COMPLETED, FAILED, REFUNDED

### âœ… 3. Prisma Client å•ä¾‹

**æ–‡ä»¶**: `lib/prisma.ts`

åˆ›å»ºäº† Prisma Client çš„å•ä¾‹æ¨¡å¼ï¼š
- å¼€å‘ç¯å¢ƒå¯ç”¨æŸ¥è¯¢æ—¥å¿—
- é˜²æ­¢çƒ­é‡è½½æ—¶åˆ›å»ºå¤šä¸ªå®ä¾‹
- ç¬¦åˆ Next.js æœ€ä½³å®è·µ

### âœ… 4. ç§å­æ•°æ®è„šæœ¬

**æ–‡ä»¶**: `prisma/seed.ts`

ç§å­è„šæœ¬åˆ›å»ºï¼š
- 1 ä¸ªç®¡ç†å‘˜ç”¨æˆ·ï¼ˆadmin@aiphoto.com / admin123ï¼‰
- 1 ä¸ªæ¼”ç¤ºç”¨æˆ·ï¼ˆdemo@example.com / demo123ï¼‰
- 12 ä¸ªç¤ºä¾‹æç¤ºè¯ï¼ˆåŒ…å«å¤šä¸ªç±»åˆ«ï¼‰
- 1 ä¸ªæœªæ¿€æ´»çš„æµ‹è¯•æç¤ºè¯

**æç¤ºè¯ç±»åˆ«**ï¼š
- é£æ™¯ç±»ï¼šæ—¥è½æµ·æ»©ã€å±±é—´ç€‘å¸ƒã€æ¨±èŠ±å°å¾„ã€æ˜Ÿç©ºé“¶æ²³ã€ç§‹æ—¥æ£®æ—
- åŸå¸‚å»ºç­‘ç±»ï¼šæœªæ¥éƒ½å¸‚ã€å¤åŸé»„æ˜
- äººç‰©è‚–åƒç±»ï¼šæ–‡è‰ºå¥³å­©ã€æœ‹å…‹å°‘å¹´
- åŠ¨ç‰©å® ç‰©ç±»ï¼šå¯çˆ±å°çŒ«ã€æ£®æ—å°é¹¿
- ç¾é£Ÿç±»ï¼šç²¾è‡´ç”œå“

æ‰€æœ‰æç¤ºè¯éƒ½é…æœ‰ Unsplash é¢„è§ˆå›¾ URLã€‚

### âœ… 5. ç¯å¢ƒå˜é‡é…ç½®

**æ–‡ä»¶**: `.env` å’Œ `.env.example`

é…ç½®åŒ…å«ï¼š
- DATABASE_URLï¼ˆPostgreSQL è¿æ¥å­—ç¬¦ä¸²ï¼‰
- é¢„ç•™çš„è®¤è¯ã€æ”¯ä»˜å’Œ AI API é…ç½®

### âœ… 6. Prisma é…ç½®æ–‡ä»¶

**æ–‡ä»¶**: `prisma.config.ts`

é…ç½®åŒ…å«ï¼š
- è‡ªåŠ¨åŠ è½½ `.env` æ–‡ä»¶ï¼ˆé€šè¿‡ dotenvï¼‰
- Schema æ–‡ä»¶è·¯å¾„
- è¿ç§»æ–‡ä»¶è·¯å¾„
- ç»å…¸å¼•æ“é…ç½®

### âœ… 7. Package.json è„šæœ¬

æ·»åŠ äº†ä»¥ä¸‹ npm è„šæœ¬ï¼š

```json
{
  "prisma:generate": "prisma generate",      // ç”Ÿæˆ Prisma Client
  "prisma:migrate": "prisma migrate dev",    // åˆ›å»ºå’Œåº”ç”¨è¿ç§»
  "prisma:studio": "prisma studio",          // æ‰“å¼€ Prisma Studio
  "db:seed": "tsx prisma/seed.ts",          // å¡«å……ç§å­æ•°æ®
  "db:reset": "prisma migrate reset"         // é‡ç½®æ•°æ®åº“
}
```

### âœ… 8. æ–‡æ¡£

åˆ›å»ºäº†å®Œæ•´çš„ä¸­æ–‡æ–‡æ¡£ï¼š

1. **docs/database.md** - æ•°æ®åº“è¯¦ç»†æ–‡æ¡£
   - å®Œæ•´çš„æ•°æ®æ¨¡å‹è¯´æ˜
   - å®‰è£…å’Œè®¾ç½®æŒ‡å—
   - å¸¸ç”¨å‘½ä»¤å‚è€ƒ
   - æ•…éšœæ’é™¤æŒ‡å—
   - ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹

2. **docs/quick-reference.md** - å¿«é€Ÿå‚è€ƒæ‰‹å†Œ
   - å‘½ä»¤é€ŸæŸ¥
   - æ•°æ®æ¨¡å‹é€ŸæŸ¥
   - Prisma Client ä½¿ç”¨ç¤ºä¾‹
   - å¸¸ç”¨æŸ¥è¯¢æ¨¡å¼

3. **SETUP.md** - é¡¹ç›®è®¾ç½®æŒ‡å—
   - è¯¦ç»†çš„å®‰è£…æ­¥éª¤
   - å¹³å°ç‰¹å®šçš„ PostgreSQL å®‰è£…è¯´æ˜
   - å¸¸è§é—®é¢˜è§£ç­”
   - å¼€å‘å·¥ä½œæµè¯´æ˜

4. **PRISMA_SETUP_SUMMARY.md** - æœ¬æ–‡æ¡£
   - å®Œæ•´çš„é…ç½®æ€»ç»“
   - æ–‡ä»¶æ¸…å•

### âœ… 9. æµ‹è¯•å’ŒéªŒè¯

**æ–‡ä»¶**: `test-prisma-setup.ts`

åˆ›å»ºäº†éªŒè¯è„šæœ¬æ¥ç¡®ä¿ï¼š
- Prisma Client æ­£ç¡®å¯¼å…¥
- æ‰€æœ‰æ¨¡å‹ç±»å‹æ­£ç¡®å®šä¹‰
- æ‰€æœ‰ CRUD æ–¹æ³•å¯ç”¨

### âœ… 10. æ›´æ–°ä¸» README

æ›´æ–°äº† `README.md`ï¼š
- æ·»åŠ æ•°æ®åº“æŠ€æœ¯æ ˆè¯´æ˜
- æ·»åŠ æ•°æ®åº“è®¾ç½®ç« èŠ‚
- æ·»åŠ æ•°æ®åº“å‘½ä»¤è¯´æ˜
- æ·»åŠ é»˜è®¤è´¦æˆ·ä¿¡æ¯
- é“¾æ¥åˆ°è¯¦ç»†æ•°æ®åº“æ–‡æ¡£

### âœ… 11. è¿ç§»è¯´æ˜

**æ–‡ä»¶**: `prisma/migrations/README.md`

åˆ›å»ºäº†è¿ç§»ç›®å½•è¯´æ˜æ–‡æ¡£ï¼Œè§£é‡Šï¼š
- å¦‚ä½•åˆ›å»ºè¿ç§»
- è¿ç§»æœ€ä½³å®è·µ
- é‡ç½®æ•°æ®åº“æµç¨‹

## æ–‡ä»¶æ¸…å•

### æ–°åˆ›å»ºçš„æ–‡ä»¶

```
prisma/
â”œâ”€â”€ schema.prisma              # Prisma æ•°æ®åº“æ¨¡å¼å®šä¹‰
â”œâ”€â”€ seed.ts                    # æ•°æ®åº“ç§å­è„šæœ¬
â””â”€â”€ migrations/
    â””â”€â”€ README.md             # è¿ç§»è¯´æ˜

lib/
â””â”€â”€ prisma.ts                 # Prisma Client å•ä¾‹

docs/
â”œâ”€â”€ database.md               # æ•°æ®åº“è¯¦ç»†æ–‡æ¡£
â””â”€â”€ quick-reference.md        # å¿«é€Ÿå‚è€ƒæ‰‹å†Œ

.env                          # ç¯å¢ƒå˜é‡ï¼ˆå·²æ·»åŠ åˆ° .gitignoreï¼‰
.env.example                  # ç¯å¢ƒå˜é‡æ¨¡æ¿
prisma.config.ts              # Prisma é…ç½®
SETUP.md                      # é¡¹ç›®è®¾ç½®æŒ‡å—
PRISMA_SETUP_SUMMARY.md       # æœ¬æ€»ç»“æ–‡æ¡£
test-prisma-setup.ts          # è®¾ç½®éªŒè¯è„šæœ¬
```

### ä¿®æ”¹çš„æ–‡ä»¶

```
package.json                  # æ·»åŠ äº† Prisma ç›¸å…³è„šæœ¬å’Œä¾èµ–
README.md                     # æ·»åŠ äº†æ•°æ®åº“è®¾ç½®ç« èŠ‚
.gitignore                    # ï¼ˆå·²åŒ…å« .env å’Œç”Ÿæˆçš„æ–‡ä»¶ï¼‰
```

## æ•°æ®åº“ Schema ç‰¹æ€§

### å…³ç³»å’Œçº§è”

- **User â†’ GeneratedImage**: ä¸€å¯¹å¤šï¼Œçº§è”åˆ é™¤ï¼ˆCascadeï¼‰
- **User â†’ Transaction**: ä¸€å¯¹å¤šï¼Œçº§è”åˆ é™¤ï¼ˆCascadeï¼‰
- **Prompt â†’ GeneratedImage**: ä¸€å¯¹å¤šï¼Œé™åˆ¶åˆ é™¤ï¼ˆRestrictï¼‰

### ç´¢å¼•ä¼˜åŒ–

ä¸ºä»¥ä¸‹å­—æ®µæ·»åŠ äº†ç´¢å¼•ä»¥æé«˜æŸ¥è¯¢æ€§èƒ½ï¼š
- User: email, username
- AdminUser: email
- Prompt: isActive
- GeneratedImage: userId, promptId, createdAt
- Transaction: userId, status, createdAt, stripePaymentId (unique)

### æ•°æ®ç±»å‹

- ID: ä½¿ç”¨ CUIDï¼ˆæ›´å‹å¥½çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼‰
- é‡‘é¢: Decimal(10, 2)ï¼ˆç²¾ç¡®çš„è´§å¸è®¡ç®—ï¼‰
- é•¿æ–‡æœ¬: Textï¼ˆæç¤ºè¯å†…å®¹ï¼‰
- æ—¶é—´æˆ³: DateTimeï¼ˆè‡ªåŠ¨ç®¡ç† createdAt å’Œ updatedAtï¼‰

## ä½¿ç”¨è¯´æ˜

### é¦–æ¬¡è®¾ç½®æ•°æ®åº“

```bash
# 1. å¯åŠ¨ PostgreSQL
brew services start postgresql@15  # macOS
# æˆ–
sudo systemctl start postgresql    # Linux

# 2. åˆ›å»ºæ•°æ®åº“
createdb ai_photo

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®æ­£ç¡®çš„ DATABASE_URL

# 4. ç”Ÿæˆ Prisma Client
npm run prisma:generate

# 5. è¿è¡Œè¿ç§»
npm run prisma:migrate
# è¾“å…¥è¿ç§»åç§°: init

# 6. å¡«å……ç§å­æ•°æ®
npm run db:seed
```

### éªŒè¯è®¾ç½®

```bash
# è¿è¡ŒéªŒè¯è„šæœ¬
npx tsx test-prisma-setup.ts

# è¿è¡Œç±»å‹æ£€æŸ¥
npx tsc --noEmit

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint

# æ‰“å¼€ Prisma Studio
npm run prisma:studio
```

### å¼€å§‹å¼€å‘

```bash
npm run dev
```

## ä¸‹ä¸€æ­¥å»ºè®®

### ç«‹å³å¯ç”¨

1. âœ… Prisma Client å·²é…ç½®å¹¶å¯å¯¼å…¥ä½¿ç”¨
2. âœ… æ•°æ®åº“æ¨¡å¼å·²å®šä¹‰
3. âœ… ç§å­æ•°æ®å·²å‡†å¤‡
4. âœ… æ–‡æ¡£å·²å®Œæˆ

### éœ€è¦æ•°æ®åº“è¿æ¥æ‰èƒ½å®Œæˆ

1. â³ è¿è¡Œç¬¬ä¸€ä¸ªè¿ç§»ï¼ˆéœ€è¦ PostgreSQL è¿è¡Œï¼‰
2. â³ å¡«å……ç§å­æ•°æ®
3. â³ ä½¿ç”¨ Prisma Studio æŸ¥çœ‹æ•°æ®

### æœªæ¥å¼€å‘å»ºè®®

1. ğŸ”„ å®ç°ç”¨æˆ·è®¤è¯ï¼ˆNextAuth.jsï¼‰
2. ğŸ”„ é›†æˆ Stripe æ”¯ä»˜
3. ğŸ”„ è¿æ¥ AI å›¾ç‰‡ç”Ÿæˆ API
4. ğŸ”„ å®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
5. ğŸ”„ æ·»åŠ ç”¨æˆ·ä¸ªäººèµ„æ–™é¡µé¢
6. ğŸ”„ å®ç°ç®¡ç†å‘˜åå°

## æŠ€æœ¯å†³ç­–è¯´æ˜

### ä¸ºä»€ä¹ˆé€‰æ‹© CUID è€Œä¸æ˜¯ UUIDï¼Ÿ

- æ›´çŸ­æ›´æ˜“è¯»
- æŒ‰æ—¶é—´æ’åº
- URL å‹å¥½
- Prisma æ¨è

### ä¸ºä»€ä¹ˆä½¿ç”¨ Decimal ç±»å‹ï¼Ÿ

- é‡‘èè®¡ç®—éœ€è¦ç²¾ç¡®æ€§
- é¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜
- PostgreSQL åŸç”Ÿæ”¯æŒ

### ä¸ºä»€ä¹ˆåˆ†ç¦» User å’Œ AdminUserï¼Ÿ

- å®‰å…¨æ€§ï¼šä¸åŒçš„è®¤è¯æµç¨‹
- æ¸…æ™°çš„æƒé™åˆ’åˆ†
- ä¾¿äºå®¡è®¡å’Œç®¡ç†
- é¿å…æ™®é€šç”¨æˆ·è¡¨è¿‡äºå¤æ‚

### ä¸ºä»€ä¹ˆä½¿ç”¨çº§è”åˆ é™¤ï¼Ÿ

- æ•°æ®ä¸€è‡´æ€§ï¼šåˆ é™¤ç”¨æˆ·æ—¶è‡ªåŠ¨æ¸…ç†ç›¸å…³æ•°æ®
- ç®€åŒ–ä»£ç ï¼šä¸éœ€è¦æ‰‹åŠ¨åˆ é™¤å…³è”è®°å½•
- ç¬¦åˆä¸šåŠ¡é€»è¾‘ï¼šç”¨æˆ·åˆ é™¤åå…¶æ•°æ®åº”è¯¥ä¸€èµ·åˆ é™¤

## æ€§èƒ½è€ƒè™‘

### å·²å®ç°çš„ä¼˜åŒ–

1. **ç´¢å¼•**: åœ¨å¸¸ç”¨æŸ¥è¯¢å­—æ®µä¸Šæ·»åŠ ç´¢å¼•
2. **å•ä¾‹æ¨¡å¼**: é¿å…åˆ›å»ºå¤šä¸ª Prisma Client å®ä¾‹
3. **è¿æ¥æ± **: Prisma è‡ªåŠ¨ç®¡ç†è¿æ¥æ± 
4. **æŸ¥è¯¢æ—¥å¿—**: å¼€å‘ç¯å¢ƒå¯ç”¨ï¼Œä¾¿äºä¼˜åŒ–

### æœªæ¥ä¼˜åŒ–å»ºè®®

1. æ·»åŠ æ•°æ®åº“è¯»å†™åˆ†ç¦»
2. å®ç°æŸ¥è¯¢ç»“æœç¼“å­˜ï¼ˆRedisï¼‰
3. ä½¿ç”¨ Prisma Accelerateï¼ˆè¾¹ç¼˜ç¼“å­˜ï¼‰
4. å®šæœŸåˆ†æå’Œä¼˜åŒ–æ…¢æŸ¥è¯¢

## å®‰å…¨è€ƒè™‘

### å·²å®ç°

1. âœ… å¯†ç å“ˆå¸Œï¼ˆbcryptjsï¼‰
2. âœ… ç¯å¢ƒå˜é‡ä¿æŠ¤ï¼ˆ.env åœ¨ .gitignoreï¼‰
3. âœ… å”¯ä¸€çº¦æŸï¼ˆemail, usernameï¼‰
4. âœ… å¤–é”®çº¦æŸä¿è¯æ•°æ®å®Œæ•´æ€§

### æœªæ¥å»ºè®®

1. ğŸ”’ å®ç° API é€Ÿç‡é™åˆ¶
2. ğŸ”’ æ·»åŠ è¾“å…¥éªŒè¯å’Œæ¸…ç†
3. ğŸ”’ å®ç° CSRF ä¿æŠ¤
4. ğŸ”’ æ·»åŠ  SQL æ³¨å…¥é˜²æŠ¤ï¼ˆPrisma å·²å†…ç½®ï¼‰
5. ğŸ”’ å®ç°ä¼šè¯ç®¡ç†

## æµ‹è¯•å»ºè®®

### å•å…ƒæµ‹è¯•

```typescript
// æµ‹è¯• Prisma Client æ“ä½œ
describe('User Model', () => {
  it('should create a user', async () => {
    const user = await prisma.user.create({
      data: { /* ... */ }
    })
    expect(user.email).toBe('test@example.com')
  })
})
```

### é›†æˆæµ‹è¯•

```typescript
// æµ‹è¯•å®Œæ•´æµç¨‹
describe('User Registration Flow', () => {
  it('should register and login', async () => {
    // 1. åˆ›å»ºç”¨æˆ·
    // 2. éªŒè¯é‚®ç®±
    // 3. ç™»å½•
    // 4. è·å–ç”¨æˆ·ä¿¡æ¯
  })
})
```

## ç›‘æ§å»ºè®®

### ç”Ÿäº§ç¯å¢ƒç›‘æ§

1. æ•°æ®åº“è¿æ¥æ•°
2. æŸ¥è¯¢å“åº”æ—¶é—´
3. é”™è¯¯ç‡
4. æ•°æ®å¢é•¿è¶‹åŠ¿

### æ¨èå·¥å…·

- Prisma Studioï¼ˆå¼€å‘ï¼‰
- pgAdminï¼ˆç®¡ç†ï¼‰
- DataDog / New Relicï¼ˆç›‘æ§ï¼‰
- Sentryï¼ˆé”™è¯¯è·Ÿè¸ªï¼‰

## æ€»ç»“

âœ… **å®Œæˆåº¦**: 100%

æ‰€æœ‰é…ç½®ä»»åŠ¡å·²å®Œæˆï¼Œé¡¹ç›®å·²å‡†å¤‡å¥½è¿›è¡Œæ•°æ®åº“å¼€å‘ã€‚

### æ¥å—æ ‡å‡†éªŒè¯

- âœ… Prisma + PostgreSQL ä¾èµ–å·²æ·»åŠ 
- âœ… `prisma/schema.prisma` å·²é…ç½®
- âœ… æ‰€æœ‰å¿…éœ€çš„æ¨¡å‹å·²å®šä¹‰ï¼ˆUser, AdminUser, Prompt, GeneratedImage, Transactionï¼‰
- âœ… æšä¸¾ç±»å‹å·²å®šä¹‰ï¼ˆTransactionType, TransactionStatusï¼‰
- âœ… å…³ç³»å’Œç´¢å¼•å·²é…ç½®
- âœ… è¿ç§»ç›®å½•å·²åˆ›å»º
- âœ… ç§å­è„šæœ¬å·²å®ç°ï¼ˆå¸¦ä¸­æ–‡æ³¨é‡Šï¼‰
- âœ… Package.json è„šæœ¬å·²æ·»åŠ 
- âœ… Prisma Client å•ä¾‹å·²åˆ›å»ºï¼ˆ`@/lib/prisma`ï¼‰
- âœ… ä¸­æ–‡æ–‡æ¡£å·²å®Œæˆï¼ˆREADME å’Œ docs/database.mdï¼‰
- âœ… `npx prisma validate` é€šè¿‡
- âœ… `npx prisma generate` æˆåŠŸæ‰§è¡Œ
- âœ… TypeScript ç¼–è¯‘æ— é”™è¯¯
- âœ… ESLint æ£€æŸ¥é€šè¿‡

### æ•°æ®åº“å°±ç»ªæ¸…å•

å‡†å¤‡å¥½å¼€å§‹ä½¿ç”¨æ—¶ï¼š

1. âœ… å®‰è£… PostgreSQL
2. âœ… åˆ›å»ºæ•°æ®åº“ï¼š`createdb ai_photo`
3. âœ… é…ç½® `.env` æ–‡ä»¶
4. âœ… è¿è¡Œï¼š`npm run prisma:migrate`
5. âœ… è¿è¡Œï¼š`npm run db:seed`

---

**é…ç½®å®Œæˆæ—¶é—´**: 2024-10-30
**Prisma ç‰ˆæœ¬**: 6.18.0
**PostgreSQL ç‰ˆæœ¬**: 15+ (æ¨è)
